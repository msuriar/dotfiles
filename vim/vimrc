if v:lang =~ "utf8$" || v:lang =~ "UTF-8$"
	set fileencodings=utf-8,latin1
endif

" Set modelines to non-zero value to work around OSX system default.
set modelines=1

call pathogen#runtime_append_all_bundles()
" Enable syntax highlighting options. Need to disable/reenable for pathogen.
filetype off
filetype plugin indent on
syntax enable


" Enable per directory .vimrc files as required
set exrc

" Display behaviour
set nocompatible	" use vim defaults
set number				" Always show line numbers
set ruler					" Always show ruler
set showcmd				" Always...
set background=dark
let g:molokai_original=0
colorscheme solarized

" Search behaviour
set incsearch
set nohlsearch
set ignorecase
set smartcase

" Scrolling behaviour
set scrolloff=50
set backspace=2

" History, marks, etc
set viminfo='100,f1
set history=500

" Wildcard completion - complete longest common substring
set wildmode=longest,full

" Clipboard behaviour
set clipboard=exclude:.* " don't try and query X server

"flag problematic whitespace (trailing and spaces before tabs)
"Note you get the same by doing let c_space_errors=1 but
"this rule really applys to everything.
highlight RedundantSpaces term=standout ctermbg=red guibg=red
match RedundantSpaces /\s\+$\| \+\ze\t/ "\ze sets end of match so only spaces highlighted

"use :set list! to toggle visible whitespace on/off
set listchars=tab:>-,trail:.,extends:>

" Tab behaviour
set tabstop=2
set shiftwidth=2
set expandtab

" Swapfiles in ~/tmp
set backupdir=~/tmp,/tmp
set directory=~/tmp,/tmp

nmap <C-N><C-N> :set nu! nu? <CR>
nmap <C-H><C-H> :set hls! hls? <CR>
nmap <C-A><C-A> :set autoindent! autoindent? <CR>
nmap <C-L><C-L> :set list! list? <CR>
