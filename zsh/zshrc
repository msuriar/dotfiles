HISTFILE=~/.histfile
HISTSIZE=10000000
SAVEHIST=10000000
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_IGNORE_SPACE
setopt SHARE_HISTORY
setopt VI # Not required, as EDITOR/VISUAL are set, but still handy

EDITOR=vim

MANPAGER="zsh -c \"col -b | /usr/bin/vim -R -c 'set nonumber' -c 'set syntax=man' -\""

export HISTFILE HISTSIZE SAVEHIST EDITOR MANPAGER

# Autoloads
autoload -U compinit promptinit edit-command-line
compinit
promptinit

[[ -d ~/.zsh/functions ]] && autoload ~/.zsh/functions/*(:t)
[[ -d ~/.zsh/functions.local ]] && autoload ~/.zsh/functions.local/*(:t)

# Editing command lines in vim
zle -N edit-command-line
bindkey -M vicmd v edit-command-line

# Common aliases
[[ -r ~/.zsh/zsh-aliases.common ]] && . ~/.zsh/zsh-aliases.common

# Look for and source platform specific files.
[[ -r ~/.zsh/zshrc.$(uname -s) ]] && . ~/.zsh/zshrc.$(uname -s)
[[ -r ~/.zsh/zsh-aliases.$(uname -s) ]] && . ~/.zsh/zsh-aliases.$(uname -s)

# Source machine local files if they exist.
[[ -r ~/.zsh/zshrc.local ]] && . ~/.zsh/zshrc.local
[[ -r ~/.zsh/zsh-aliases.local ]] && . ~/.zsh/zsh-aliases.local

# Prompt
[[ -r ~/.zsh/zsh-prompt ]] && . ~/.zsh/zsh-prompt
